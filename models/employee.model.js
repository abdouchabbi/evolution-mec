
// -----------------------------------------------------------------------------
// ملف نموذج الموظف (models/employee.model.js)
// -----------------------------------------------------------------------------
// هذا الملف يعرف "هيكل" (Schema) بيانات الموظف.
// الهيكل يحدد الحقول التي سيمتلكها كل موظف في قاعدة البيانات،
// أنواع البيانات لهذه الحقول، وأي قواعد خاصة بها (مثل أن يكون الاسم فريدًا).
// -----------------------------------------------------------------------------

// 1. استيراد مكتبة Mongoose
// -----------------------------------------------------------------------------
const mongoose = require('mongoose');

// 2. تعريف هيكل بيانات الموظف (EmployeeSchema)
// -----------------------------------------------------------------------------
const EmployeeSchema = new mongoose.Schema({
    // حقل لاسم الموظف
    name: {
        type: String,       // نوع البيانات: نص
        required: true,     // هذا الحقل إجباري
        unique: true,       // يجب أن يكون اسم كل موظف فريدًا (لا يتكرر)
        uppercase: true,    // سيتم تخزين الاسم دائمًا بأحرف كبيرة لتوحيد البيانات
        trim: true          // سيتم إزالة أي مسافات فارغة من بداية ونهاية الاسم
    },
    // حقل لتخزين بصمة الوجه الرقمية
    faceDescriptor: {
        type: [Number],     // نوع البيانات: مصفوفة من الأرقام
        required: false     // هذا الحقل ليس إجباريًا عند إنشاء الموظف لأول مرة
    },
    // حقل لتسجيل تاريخ إنشاء سجل الموظف تلقائيًا
    createdAt: {
        type: Date,         // نوع البيانات: تاريخ
        default: Date.now   // القيمة الافتراضية هي تاريخ ووقت الإنشاء الحالي
    }
});

// 3. تصدير النموذج (Model)
// -----------------------------------------------------------------------------
// نقوم بإنشاء وتصدير النموذج المسمى "Employee" بناءً على الهيكل الذي عرفناه.
// سنستخدم هذا النموذج في ملفات الـ "Controller" للتفاعل مع بيانات الموظفين.
module.exports = mongoose.model('Employee', EmployeeSchema);
